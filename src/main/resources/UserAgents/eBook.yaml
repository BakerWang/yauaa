#
# Yet Another UserAgent Analyzer
# Copyright (C) 2013-2016 Niels Basjes
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.
#
config:

  - matcher:
      extract:
        - 'LayoutEngineClass     :  2050:"eReader"'
        - 'LayoutEngineName      :  2050:"KoboApp"'
        - 'LayoutEngineVersion   :  2050:agent.product.name="KoboApp"^.version'
        - 'AgentClass            :  2050:"eReader"'
        - 'AgentName             :  2050:"KoboApp"'
        - 'AgentVersion          :  2050:agent.product.name="KoboApp"^.version'
        - 'KoboPlatformId        :   100:agent.product.name="KoboPlatform Id"^.version'
        - 'KoboAffiliate         :   100:agent.product.name="KoboAffiliate"^.version'

  - test:
      input:
        user_agent_string: 'Mozilla/5.0 (Linux; Android 4.4.2; SM-P600 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/30.0.0.0 Safari/537.36 KoboApp/5.5.12479 KoboPlatform Id/00000000-0000-0000-0000-000000004006 KoboAffiliate/bol'
      expected:
        DeviceClass                        : 'Tablet'
        DeviceName                         : 'SM-P600'
        OperatingSystemClass               : 'Mobile'
        OperatingSystemName                : 'Android'
        OperatingSystemVersion             : '4.4.2'
        OperatingSystemVersionBuild        : 'KOT49H'
        LayoutEngineClass                  : 'eReader'
        LayoutEngineName                   : 'KoboApp'
        LayoutEngineVersion                : '5.5.12479'
        AgentClass                         : 'eReader'
        AgentName                          : 'KoboApp'
        AgentVersion                       : '5.5.12479'
        KoboAffiliate                      : 'bol'
        KoboPlatformId                     : '00000000-0000-0000-0000-000000004006'

  - test:
      input:
        user_agent_string: 'Mozilla/5.0 (Linux; Android 4.4.2; SM-P600 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/30.0.0.0 Safari/537.36 KoboApp/6.0.12844 KoboPlatform Id/00000000-0000-0000-0000-000000004000 KoboAffiliate/Kobo'
      expected:
        DeviceClass                        : 'Tablet'
        DeviceName                         : 'SM-P600'
        OperatingSystemClass               : 'Mobile'
        OperatingSystemName                : 'Android'
        OperatingSystemVersion             : '4.4.2'
        OperatingSystemVersionBuild        : 'KOT49H'
        LayoutEngineClass                  : 'eReader'
        LayoutEngineName                   : 'KoboApp'
        LayoutEngineVersion                : '6.0.12844'
        AgentClass                         : 'eReader'
        AgentName                          : 'KoboApp'
        AgentVersion                       : '6.0.12844'
        KoboAffiliate                      : 'Kobo'
        KoboPlatformId                     : '00000000-0000-0000-0000-000000004000'

  - matcher:
      extract:
        - 'DeviceClass           : 1001:"eReader"'
        - 'DeviceBrand           : 1001:"Kobo"'
        - 'DeviceName            : 1001:agent.product.comments.entry.text%1="Kobo"@'

  - test:
      input:
        user_agent_string: 'Mozilla/5.0 (Linux; U; Android 2.0; en-us;) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1 (Kobo Touch)'
      expected:
        DeviceClass                        : 'eReader'
        DeviceName                         : 'Kobo Touch'
        DeviceBrand                        : 'Kobo'
        OperatingSystemClass               : 'Mobile'
        OperatingSystemName                : 'Android'
        OperatingSystemVersion             : '2.0'
        LayoutEngineClass                  : 'Browser'
        LayoutEngineName                   : 'AppleWebKit'
        LayoutEngineVersion                : '533.1'
        AgentClass                         : 'Browser'
        AgentName                          : 'Mobile Safari'
        AgentVersion                       : '4.0'
        AgentLanguage                      : 'English (United States)'
        AgentSecurity                      : 'Strong security'

# TODO
#  - test:
##      options:
##        - 'verbose'
##        - 'init'
##        - 'only'
#      input:
##        name: 'You can give the test case a name'
#        user_agent_string: 'Mozilla/5.0 (mobile; CPU ARM Linux 2.6.21;en-us) AppleWebKit/525.1 (bookeen/cybook) Orizon/1.0 (screen 600x800)'


#TODO: BeBook
#  - test:
#      input:
#        user_agent_string: 'Mozilla/5.0 (Linux; U; Android 2.2.1; nl-be; BEBOOK070I00 Build/FRF91) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1'
#
#
#  - test:
#      input:
#        user_agent_string: 'Mozilla/5.0 (Linux; U; Android 2.3.4; nl-nl; Bebook Build/GRJ22) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1'

#TODO: Robot that converts websites into ebooks
#Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; eBook Maestro [ebookmaestro.com]; .NET CLR 2.0.50727)
#Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; eBook Maestro [ebookmaestro.com]; InfoPath.2; .NET CLR 2.0.50727)

#TODO: De losse kreet 'ebook'
#Mozilla/4.0 (compatible; MSIE 6.0; Windows 98; eBook)
#Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; DS_gamingharbor; desktopsmiley_1_3_6726162713238764_338_4; eBook)
#Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; eBook)
#Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; eBook; .NET CLR 2.0.50727)
#Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; eBook; .NET CLR 1.1.4322; InfoPath.1)
#Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; eBook; .NET CLR 2.0.50727; PeoplePal 6.6; IEMB3)
#Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; Trident/4.0; eBook)
#Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; Trident/4.0; eBook; .NET CLR 1.1.4322; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; InfoPath.1)
#Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.2; WOW64; SU 3.005; eBook; .NET CLR 1.1.4322; .NET CLR 2.0.50727; .NET CLR 3.0.04324.17)
#Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; eBook; .NET CLR 1.1.4322)

#TODO: GTB??
#Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; GTB7.5; eBook; InfoPath.2; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729)
#Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; SIMBAR={77DFD0A4-9D43-11E2-A2F9-0018E73E3E5B}; GTB7.5; BTRS109633; eBook; .NET CLR 1.1.4322; .NET4.0C; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET4.0E)
